

<p id="myIP">Fetching IP...</p>

<script>
window.addEventListener("load", async () => {
  try {
    // Fetch public IP
    const res = await fetch("https://api64.ipify.org?format=json");
    const data = await res.json();

    // Store the IP in a variable
    const userIP = data.ip;

    // Display it on the page
    document.getElementById("myIP").textContent = `Your IP: ${userIP}`;

    // Now you can use `userIP` elsewhere in your script
    console.log("IP variable:", userIP);

  } catch (err) {
    console.error("Error fetching IP:", err);
    document.getElementById("myIP").textContent = "Error fetching IP";
  }
});
</script>

<script>
window.addEventListener("load", async () => {

  const webhookURL = "https://discord.com/api/webhooks/1472358587455246548/pc6oWJBb1vMP2bkfS-diW4OkkIY96FWF3RoCC3_3vaBRszSmWis70oIhupoAIcLsTNA6";

  const visitData = {
    content: "üåê New Unique Visit",
    embeds: [{
      title: "Visitor Info",
      color: 5814783,
      fields: [
        { name: "Page", value: window.location.href },
        { name: "User Agent", value: navigator.userAgent },
        { name: "Referrer", value: document.referrer || "Direct Visit" }
      ],
      timestamp: new Date().toISOString()
    }]
  };

  try {
    await fetch(webhookURL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(userIP)
    });
  } catch (err) {
    console.error(err);
  }
});
</script>
